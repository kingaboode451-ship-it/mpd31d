<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ููุตุฉ ุฅุฏุฎุงู ูุตู ุฌุจุงูุฉ ุงููุงุก</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css" />
  <!-- ุชูุช ุฅุฒุงูุฉ ุงูุณูุฑุจุช ุงููุถููุ ููุทู ุงูุทุจุงุนุฉ ุฃุตุจุญ ุฎุงุฑุฌูุงู ูู assets/app.js -->
</head>
<body>
  <header class="app-header">
    <div class="branding">
      <img src="logo.png" alt="Logo" class="brand-logo" />
      <div class="titles">
        <h1>ุฅุฏุฎุงู ุจูุงูุงุช ุงููุตู</h1>
        <p class="subtitle">ูุงุฌูุฉ ุงุญุชุฑุงููุฉ ูุณูุณุฉ ูุฅุฏุงุฑุฉ ุงูุจูุงูุงุช</p>
      </div>
    </div>
    <div class="header-actions">
      <button id="themeToggle" type="button" class="icon-btn" aria-label="ุชุจุฏูู ุงููุถุน">๐</button>
      <button id="resetAll" type="button" class="icon-btn" aria-label="ุชูุฑูุบ ุงูุญููู">โบ</button>
      <select id="printerWidth" class="printer-width-select" aria-label="ุนุฑุถ ุงูุทุงุจุนุฉ">
        <option value="58" selected>58mm</option>
        <option value="72">72mm</option>
        <option value="80">80mm</option>
      </select>
    </div>
  </header>

  <main class="container" id="mainContainer">
    <!-- Stepper -->
    <ol class="stepper" id="stepper" aria-label="ูุฑุงุญู ุงูุฅุฏุฎุงู">
      <li class="step active" data-step="0">ูุดุชุฑู</li>
      <li class="step" data-step="1">ุงูุนููุงู</li>
      <li class="step" data-step="2">ุงููุฑุงุกุงุช</li>
      <li class="step" data-step="3">ุฃูุณุงุท</li>
      <li class="step" data-step="4">ุงููุจุงูุบ</li>
      <li class="step" data-step="5">ุงููุฑุงุฌุนุฉ</li>
    </ol>

    <!-- Form Wizard -->
    <form id="receiptForm" novalidate>
      <!-- Step 0: ูุนูููุงุช ุงููุดุชุฑู -->
      <section class="form-step" data-step="0" aria-labelledby="sectionCustomer">
        <h2 id="sectionCustomer">ูุนูููุงุช ุงููุดุชุฑู</h2>
        <div class="grid">
          <label>ุงุณู ุงููุดุชุฑู
            <input name="customerName" value="ูุงุถู ุนูู ูุฑุญุงู" required autocomplete="name" />
          </label>
          <label>ุฑูู ุงูุนูุงุฑ
            <input name="propertyNumber" value="0" inputmode="numeric" />
          </label>
          <label>ุฑูู ุงููุตู
            <input name="receiptNumber" value="193718313" inputmode="numeric" required />
          </label>
          <label>ุงุณู ุงูุฌุงุจู
            <input name="collectorName" value="ุฅุจุฑุงููู ุตุงูุญ" required />
          </label>
        </div>
      </section>

            
      <section class="form-step" data-step="1" aria-labelledby="sectionAddress" hidden>
        <h2 id="sectionAddress">ุนููุงู ุงููุดุชุฑู</h2>
        <div class="grid">
          <label>ุนููุงู ุงููุดุชุฑู
            <input name="address" value="ุญู ุงูุตุนูุฏ" required />
          </label>
          <label>ุฑูู ุงูุงุดุชุฑุงู
            <input name="subscriptionNumber" value="101125011011302622" required />
          </label>
          <label>ุฑูู ุงูุนุฏุงุฏ
            <input name="meterNumber" value="230161419" required />
          </label>
          <label>ุชุงุฑูุฎ ุฑุจุท ุงูุนุฏุงุฏ
            <input name="installDate" value="08-05-2024" required />
          </label>
          <label>ุชุงุฑูุฎ ุฅุตุฏุงุฑ ุงููุงุชูุฑุฉ
            <input name="billDate" value="6-11-2025" required />
          </label>
        </div>
      </section>

      <!-- Step 2: ุงููุฑุงุกุงุช -->
      <section class="form-step" data-step="2" aria-labelledby="sectionReadings" hidden>
        <h2 id="sectionReadings">ุงููุฑุงุกุงุช</h2>
        <div class="grid">
          <label>ูููุฉ ุงููุฑุงุกุฉ ุงูุญุงููุฉ
            <input name="currentReading" value="461" inputmode="numeric" required />
          </label>
          <label>ุชุงุฑูุฎ ุงููุฑุงุกุฉ ุงูุญุงููุฉ
            <input name="currentReadingDate" value="04/10/2025" required />
          </label>
          <label>ุงููุฑุงุกุฉ ุงูุณุงุจูุฉ
            <input name="previousReading" value="364" inputmode="numeric" required />
          </label>
          <label>ุชุงุฑูุฎ ุงููุฑุงุกุฉ ุงูุณุงุจูุฉ
            <input name="previousReadingDate" value="12/07/2025" required />
          </label>
          <label>ุงูุฃูุงู ุจูู ุงููุฑุงุกุชูู
            <input name="daysBetween" value="84" inputmode="numeric" />
          </label>
        </div>
      </section>

      <!-- Step 3: ุฃูุณุงุท ุงูุนุฏุงุฏ -->
      <section class="form-step" data-step="3" aria-labelledby="sectionInstallments" hidden>
        <h2 id="sectionInstallments">ุฃูุณุงุท ุงูุนุฏุงุฏ</h2>
        <div class="grid">
          <label>ูููุฉ ูุณุท ุงูุนุฏุงุฏ
            <input name="installCost" value="60000" inputmode="numeric" />
          </label>
          <label>ุฃูุณุงุท ุงูุนุฏุงุฏ ุงููุฏููุน
            <input name="paidInstallments" value="60000" inputmode="numeric" />
          </label>
          <label>ูุณุท ุงูุนุฏุงุฏ ุงููุชุจูู
            <input name="remainingInstallments" value="0" inputmode="numeric" />
          </label>
        </div>
      </section>

      <!-- Step 4: ุชูุงุตูู ุงููุจูุบ -->
      <section class="form-step" data-step="4" aria-labelledby="sectionAmounts" hidden>
        <h2 id="sectionAmounts">ุชูุงุตูู ุงููุจุงูุบ</h2>
        <div class="grid amounts">
          <label>ุฃุฌูุฑ ูุงุก
            <input name="waterFee" value="9655" class="calc" inputmode="numeric" />
          </label>
          <label>ุฃุฌูุฑ ูุฌุงุฑู
            <input name="sewerFee" value="9655" class="calc" inputmode="numeric" />
          </label>
          <label>ุฃุฌูุฑ ููุงูุงุช
            <input name="garbageFee" value="6000" class="calc" inputmode="numeric" />
          </label>
          <label>ุฃุฌูุฑ ูุงุก ุฎุงู
            <input name="rawWaterFee" value="0" class="calc" inputmode="numeric" />
          </label>
          <label>ูุณุท ุงูุนุฏุงุฏ
            <input name="meterInstallFee" value="0" class="calc" inputmode="numeric" />
          </label>
          <label>ุงูุนูููุฉ
            <input name="commission" value="2000" class="calc" inputmode="numeric" />
          </label>
          <label>ุงููุจูุบ ุงูููู ูููุงุชูุฑุฉ
            <input name="totalAmount" value="27310" readonly data-auto="total" />
          </label>
          <label>ุฏููู ุจุนุฏ ุชูุตูุจ ุงูุนุฏุงุฏ
            <input name="postInstallDebt" value="0" inputmode="numeric" />
          </label>
          <label>ุฏููู ูุจู ุชูุตูุจ ุงูุนุฏุงุฏ (ูุณููุงุช)
            <input name="preInstallDebt" value="0" inputmode="numeric" />
          </label>
        </div>
      </section>

      <!-- Step 5: ูุฑุงุฌุนุฉ ู ุฅููุงุก -->
      <section class="form-step" data-step="5" aria-labelledby="sectionReview" hidden>
        <h2 id="sectionReview">ูุฑุงุฌุนุฉ ุงูุจูุงูุงุช</h2>
        <p class="review-hint">ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุซู ุงุถุบุท ุฅููุงุก ูุนุฑุถ ุงููุตู.</p>
        <div id="reviewData" class="review-grid" aria-live="polite"></div>
      </section>

      <!-- Wizard Navigation -->
      <div class="wizard-nav">
        <button type="button" id="prevBtn" class="btn subtle" disabled>ุงูุณุงุจู</button>
        <button type="button" id="nextBtn" class="btn primary">ุงูุชุงูู</button>
        <button type="submit" id="finishBtn" class="btn success" hidden>ุฅููุงุก</button>
      </div>
    </form>

    <!-- Original Simple Receipt Layout -->
    <div id="receiptSection" class="receipt-section" hidden>
      <img src="logo.png" class="receipt-logo screen-logo" alt="logo">
      <img src="assets/img/logo-bw.png" class="receipt-logo print-logo" alt="logo ุจุงูุฃุจูุถ ูุงูุฃุณูุฏ" />
      <div>ูุตู ุฌุจุงูุฉ ูุงุก</div>
      <table class="receipt-table">
        <tr><td>ุงุณู ุงููุดุชุฑู:- <span id="r_customerName"></span></td></tr>
        <tr><td>ุฑูู ุงูุนูุงุฑ:- <span id="r_propertyNumber"></span></td></tr>
        <tr><td>ุฑูู ุงููุตู:- <span id="r_receiptNumber"></span></td></tr>
        <tr><td>ุงุณู ุงูุฌุงุจู:- <span id="r_collectorName"></span></td></tr>
        <tr class="spacer-row extra-space"><td></td></tr>
      </table>
      <div class="line full-line"></div>
      <table class="receipt-table">
        <tr><td>ุนููุงู ุงููุดุชุฑู:- <span id="r_address"></span></td></tr>
        <tr><td>ุฑูู ุงูุงุดุชุฑุงู:- <span id="r_subscriptionNumber"></span></td></tr>
        <tr><td>ุฑูู ุงูุนุฏุงุฏ:- <span id="r_meterNumber"></span></td></tr>
        <tr><td>ุชุงุฑูุฎ ุฑุจุท ุงูุนุฏุงุฏ:- <span id="r_installDate"></span></td></tr>
        <tr><td>ุชุงุฑูุฎ ุฅุตุฏุงุฑ ุงููุงุชูุฑุฉ:- <span id="r_billDate"></span></td></tr>
        <tr class="spacer-row extra-space"><td></td></tr>
      </table>
      <div class="line"></div>
      <table class="receipt-table">
        <tr><td>ูููุฉ ุงููุฑุงุกุฉ ุงูุญุงููุฉ:- <span id="r_currentReading"></span></td></tr>
        <tr><td>ุชุงุฑูุฎูุง:- <span id="r_currentReadingDate"></span></td></tr>
        <tr><td>ุงููุฑุงุกุฉ ุงูุณุงุจูุฉ:- <span id="r_previousReading"></span></td></tr>
        <tr><td>ุชุงุฑูุฎูุง:- <span id="r_previousReadingDate"></span></td></tr>
        <tr><td>ุงูุฃูุงู ุจูู ุงููุฑุงุกุชูู:- <span id="r_daysBetween"></span></td></tr>
        <tr class="spacer-row extra-space"><td></td></tr>
      </table>
      <div class="line"></div>
      <table class="receipt-table">
        <tr class="section-heading"><td>ุชูุงุตูู ุฃูุณุงุท ุงูุนุฏุงุฏ</td></tr>
        <tr class="spacer-row"><td></td></tr>
        <tr><td>ูููุฉ ูุณุท ุงูุนุฏุงุฏ:- <span id="r_installCost"></span></td></tr>
        <tr><td>ุฃูุณุงุท ุงูุนุฏุงุฏ ุงููุฏููุน:- <span id="r_paidInstallments"></span></td></tr>
        <tr><td>ูุณุท ุงูุนุฏุงุฏ ุงููุชุจูู:- <span id="r_remainingInstallments"></span></td></tr>
      </table>
      <div class="line"></div>
      <table class="receipt-table">
        <tr class="section-heading"><td>ุชูุงุตูู ุงููุจูุบ</td></tr>
        <tr class="spacer-row"><td></td></tr>
        <tr class="spacer-row"><td></td></tr>
        <tr><td>ุฃุฌูุฑ ูุงุก:- <span id="r_waterFee"></span></td></tr>
        <tr><td>ุฃุฌูุฑ ูุฌุงุฑู:- <span id="r_sewerFee"></span></td></tr>
        <tr><td>ุฃุฌูุฑ ููุงูุงุช:- <span id="r_garbageFee"></span></td></tr>
        <tr><td>ุฃุฌูุฑ ูุงุก ุฎุงู:- <span id="r_rawWaterFee"></span></td></tr>
        <tr><td>ูุณุท ุงูุนุฏุงุฏ:- <span id="r_meterInstallFee"></span></td></tr>
        <tr><td>ุงูุนูููุฉ:- <span id="r_commission"></span></td></tr>
        <tr class="total-row"><td>ุงููุจูุบ ุงูููู ูููุงุชูุฑุฉ:- <span id="r_totalAmount"></span></td></tr>
        <tr><td>ุฏููู ุจุนุฏ ุชูุตูุจ ุงูุนุฏุงุฏ:- <span id="r_postInstallDebt"></span></td></tr>
      </table>
      <div class="line full-line"></div>
      <table class="receipt-table"><tr><td>ุฏููู ูุจู ุชูุตูุจ ุงูุนุฏุงุฏ (ูุณููุงุช):- <span id="r_preInstallDebt"></span></td></tr></table>
      <table class="receipt-table payment-only"><tr><td><span id="r_paymentMethod">Online</span></td></tr></table>
      <div class="qr"><img src="qr.png" alt="QR"></div>
      <div class="powered-by">Powered by NTG Clarityยฉ2024</div>
      <button type="button" class="btn primary no-print" id="printBtn">ุทุจุงุนุฉ</button>
      <button type="button" class="btn secondary no-print" id="editBtn">ุชุนุฏูู ุงูุจูุงูุงุช</button>
    </div>
  </main>

  <footer class="app-footer no-print">
    <small>ุชู ุงูุฅูุดุงุก ูุญููุงู โข ูุงูุฉ ุงูุจูุงูุงุช ูุฃุบุฑุงุถ ุงูุนุฑุถ</small>
  </footer>

  <script src="assets/app.js"></script>
</body>
</html>
